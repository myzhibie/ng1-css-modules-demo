## CSS Modules in ng1
This is a demo repo shows you how to implement CSS Modules in Angular1.x(especially in Angular1.5). CSS Modules in React or Angular2 is out of box and easy to implement,however in Angular1,there is little articles which show you how to implement it in your project. This repo comes in handy.
##Run this demo
make sure ``node`` and ``npm`` installed in your machine,then    
```npm install```   
```gulp serve```   
then look at the results in [localhost:3000](http://localhost:3000)
##how to implement css modules in your project
these following steps make sure you can eanble CSS Modules in your project 
###edit webpack config files and install css loaders 
CSS Modules is depedent of webpack's css loaders,so you must install it   
```npm install css-loader --save-dev```   
and then in your `webpack.config.js` 
```javascript
module: {
    loaders: [
       { test: /\.js$/, exclude: [/app\/lib/, /node_modules/], loader: 'ng-annotate!babel' },
       { test: /\.html$/, loader: 'raw' },
       { test: /\.scss$/, loader: 'style!css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]!sass' },
       { test: /\.css$/, loader: 'style!css-loader?modules&importLoaders=1&localIdentName=[name]__[local]___[hash:base64:5]' }
    ]
  }
```
this configuration tell webpack enable css-modules functionality in css-loader,and the scoped css'name is consisted of    
* [name]--`origin css name`
* [local]--`component local name`
* [hash:base64:5]--`hash name generated by webpack`

notice that we attach SASS config to the last line of loaders,that means we can also integrate CSS Modules with pre-processor css such as SASS or LESS.
###scoped css
In the `client/app/components` path ,choose a component at will,write sass or css in  their own sass files and import this sass file into *.component.js like the follwing:   

attrs.component.js
```javascript
import styles from "./attrs.scss";
    class AttrsController {
  constructor() {
    this.name = 'Directives利用attrs通信';
    this.styles=styles;
  }
}

export default AttrsController;
```

here the styles imported is an object including all the css you write in this component's sass files.    

attrs.sass
```css
.attrs{
  color:red;
} 
.header{
  color:green;
}

```
in the html of this component,you can write css like this(data-binding syntax in ng1):

attrs.html

```html
<navbar></navbar>
<div>
  <h2 class="{{$ctrl.styles.header}}">{{ $ctrl.name }}</h2>
  <directive-b directive-a></directive-b>
</div>
```
###Global css
Global css is same as scoped css except css declarations.
index.scss
```css
:global {
    .index {
      display:inline-block;
      margin-top: 20px;
    }
}
```
then you can include `.index` class in any component which imported index.scss in its controller.
